 % !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

\documentclass[slidetop,11pt,table]{beamer}

%\usepackage[french]{babel}
%\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage{float}
\usepackage{caption}

%\usetheme{Warsaw}
\usecolortheme{beaver}

\input{../figtab}

\title{Une architecture minimisant les échanges\\ entre processeur et mémoire}

\date{}

\begin{document}

\frame{\titlepage}

%\frame{\tableofcontents}

\begin{frame}{Architecture de Von Neumann}
  \begin{figure}[b]
    \begin{center}
      \figVonNeumann
    \end{center}
    \caption{Une machine de von Neumann.}
    \label{fig:mvn} \index{von Neumann}\index{machine de von Neumann}
  \end{figure}
\end{frame}

\begin{frame}{Le processeur}
  \begin{figure}[b]
    \begin{center}
      \proco
    \end{center}
    \caption{L'interface processeur-mémoire proposée}
    \label{fig:overview}
  \end{figure}
\end{frame}

\begin{frame}{Un exemple}{multiplication entière}
  \begin{figure}
    {\tiny \tt \progex}
    \caption{exemple de programme assembleur}
  \end{figure}
\end{frame}

\begin{frame}{Constantes}
  \begin{table}[t]
  \centering
  \caption{Encodage \emph{prefix-free} des différentes constantes  \label{tab:constantes}}
  {\tiny \prefree}
\end{table}
\end{frame}

\begin{frame}{Benchmark}{Taille du code}
  \begin{figure}
    \centering
    \begin{tikzpicture}[xscale = 0.3, yscale = 0.5]
      \draw(0,0)grid[xstep=2,ystep=9] (20,9);
      \draw[line width=4mm, color=magenta, yshift=-1mm] plot[xcomb] file {huffbpi.txt};
      \draw[line width=4mm, color=cyan, yshift=1mm] plot[xcomb] file {initbpi.txt};
      \foreach \x in {4,8,12,16} \draw(\x,9)node[above]{\x};
      \draw (20,9)node[above]{BPI(\%)}; 
      \foreach \n/\y in {binmult/1.5,matmul(sparse)/3.5,matmul(dense)/5.5,chip8/7.5} 
      \draw (0,\y) node [left] {\n};
      \draw (18,1) node[fill=cyan] {\tiny Initial};
      \draw (18,2) node[fill=magenta]{\tiny Huffman};
    \end{tikzpicture}
    \caption{nombre de bits par instruction}
  \end{figure}
\end{frame}

\begin{frame}{Benchmark}{Bits échangés}
  \begin{figure}[h]
    \centering
    \begin{tikzpicture}[xscale=0.05,yscale=0.5]
      \draw(0,0)grid[xstep=10,ystep=9] (100,9);
      \draw[line width=4mm, color=magenta, yshift=-1mm] plot[xcomb] file {huffprgm.txt};
      \draw[line width=4mm, color=cyan, yshift=1mm] plot[xcomb] file {initprgm.txt};
      \foreach \x in {0,10,...,90} \draw(\x,9)node[above]{\small\x};
      \draw (100,9)node[above]{\small \%}; 
      \foreach \n/\y in {binmult/1.5,matmul(sparse)/3.5,matmul(dense)/5.5,chip8/7.5} 
      \draw (0,\y) node [left] {\n};
      \draw (85,7) node[fill=cyan,below] {\tiny Initial};
      \draw (85,7) node[fill=magenta,above]{\tiny Huffman};
      
    \end{tikzpicture}
    \caption{bits de programme échangés}
    \label{fig:prgmper}
  \end{figure}
\end{frame}

% \begin{frame}
%   \frametitle{Bibliographie}
%   \bibliographystyle{plain}
%   \bibliography{../biblio}
% \end{frame}

\end{document}